package main

import (
	"embed"
	"fmt"
	"io/fs"
)

//go:embed 024_temporary_file_directory.txt
var content1 string

// Firstly, create a file named "002_intermediate/subdir/example.txt" with some content in it and then uncomment the below 'go:embed' line and try executing the folder embedding code below otherwise it will throw an error.

// //go:embed subdir
var folder1 embed.FS

func main() {
	fmt.Printf("Embedded File Content :\n%s\n", content1)

	content2, err := folder1.ReadFile("subdir/example.txt") // reads the provided path file from the embedded folder
	if err != nil {
		fmt.Println("Error :", err)
		return
	}
	fmt.Printf("Embedded Folder File Content :\n%s\n", string(content2))

	err = fs.WalkDir(folder1, "subdir", func(path string, d fs.DirEntry, err error) error { // walks through the embedded folder and executes the provided function for each file/directory.
		if err != nil {
			fmt.Println("Error :", err)
			return err
		}
		fmt.Println("Visited :", path)
		return nil
	})
	if err != nil {
		fmt.Println("Error :", err)
		return
	}
}

// Note that there is no space between the '//' and 'go:embed' directive.
// Also, the 'go:embed' directive must be placed immediately before the variable declaration. The variable type can be string, []byte, or embed.FS only.
